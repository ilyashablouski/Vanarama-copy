{
  "family": "%APP_NAME%",
  "containerDefinitions": [
      {
          "image": "%IMAGE%",
          "name": "%APP_NAME%",
          "cpu": 256,
          "memory": 768,
          "memoryReservation":256,
          "essential": true,
          "secrets": [
              {
                  "name": "SECRET_KEY_BASE",
                  "valueFrom": "%SSM_PARAMETER_BASE%/secret-key-base"
              },
              {
                  "name": "NPM_TOKEN",
                  "valueFrom": "arn:aws:ssm:eu-west-2:000379120260:parameter/DeploymentConfig/nextstorefront/Dev/NPM_TOKEN"
              }
            ],
            "environment": [
                {
                    "name": "FORCE_COLOR",
                    "value": "true"
                },
                {
                    "name": "NODE_ENV",
                    "value": "development"
                },
                {
                    "name": "PORT",
                    "value": "8080"
                }
            ],
            "portMappings": [
                  {
                      "containerPort": 8080,
                      "hostPort": 0
                  }
              ],
              "logConfiguration": {
                  "logDriver": "awslogs",
                  "options": {
                      "awslogs-group": "%LOG_GROUP%",
                      "awslogs-region": "%AWS_REGION%",
                      "awslogs-stream-prefix": "%APP_NAME%"
                  }
              }
        }
    ]
  }
